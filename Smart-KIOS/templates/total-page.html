<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="UTF-8" />
    
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: Verdana, sans-serif;
        margin: 0;
      }
      
      .component {
        position: relative;
        width: 100%;
        /* ปรับขนาดตามขนาดจอ */
        height: 100vh;
        /* ปรับขนาดตามขนาดจอ */
        background-image: url("https://plus.unsplash.com/premium_photo-1675686363460-25aa1039e94b?q=80&w=2043&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D");
        /* เปลี่ยนเป็น URL ของภาพที่คุณต้องการใช้ */
        background-size: cover;
        /* ปรับขนาดของภาพให้เต็มพื้นที่ */
        background-position: center;
        /* ตำแหน่งภาพให้อยู่ตรงกลาง */
        /* filter: blur(1px); */
        /* ทำให้ภาพเบลอ */
        /* background-color: rgba(255, 255, 255, 0.5); */
        /* สีพื้นหลังที่มองเห็นผ่านพื้นหลังเบลอ */
        /* z-index:auto; */
        /* ให้พื้นหลังเบลออยู่หน้าสุด */
      }

      .mySlides {
        display: none;
        /* filter: none; */
      }

      img {
        vertical-align: middle;
        margin-top: 5%;
        margin-left: 25%;
        /* filter: none; */
      }

      /* Slideshow container */
      .slideshow-container {
        /* margin-top: 30px; */
        width: 100%;
        height: 90vh;
        /* max-width: 1000px; */
        position: relative;
        /* margin: auto; */
        /* filter: none; */
      }

      .grid-container {
        display: grid;
        place-items: center;
        height: 87vh;
        /* ตั้งค่าความสูงเท่ากับความสูงของหน้าจอ */
        /* margin-top: 70px;
            margin-bottom: 70px; */
      }

      .grid-row {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-gap: 50px;
        place-items: center;
      }

      .answer {
        padding: 50px;
        font-size: 30px;
        font-weight: 100;
        color: rgba(93, 92, 92, 0.801);
        width: 500px;
        border: 3px solid rgba(93, 92, 92, 0.801);
        border-radius: 8px;
        background-color: rgba(255, 255, 255, 0.782);
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .answer:hover {
        background-color: rgba(93, 92, 92, 0.801);
        color: #fff;
      }

      .answer.selected {
        background-color: rgb(172, 245, 249);
        color: #fff;
        border-color: rgba(144, 147, 147, 0.811);
      }

      /* Next & previous buttons */
      .prev,
      .next {
        cursor: pointer;
        position: absolute;
        /* height: 100%; */
        top: 50%;
        /* height: 100%; */
        width: 5%;
        padding: 80px 5%;
        margin-top: -22px;
        color: white;
        font-weight: bold;
        font-size: 50px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        user-select: none;
        /* filter: none; */
      }

      /* Position the "next button" to the right */
      .next {
        /* top: 50%; */
        right: 0;
        border-radius: 3px 0 0 3px;
        /* filter: none; */
      }

      /* On hover, add a black background color with a little bit see-through */
      .prev:hover,
      .next:hover {
        background-color: rgba(74, 71, 71, 0.8);
        /* filter: none; */
      }

      /* Caption text */
      .text {
        color: black;
        background-color: rgba(252, 250, 250, 0.345);
        font-size: 55px;
        padding: 19px 12px;

        right: 50%;
        height: 10%;

        /* bottom: 85%; */
        width: auto;
        /* text-align: center; */
        border-radius: 10px;
        /* filter: none; */
      }

      /* Number text (1/3 etc) */
      .numbertext {
        color: #f2f2f2;
        font-size: 35px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
        right: 0;
        /* filter: none; */
      }

      /* The dots/bullets/indicators */
      .dot {
        display: inline-block;
        width: 32px;
        height: 32px;
        line-height: 25px;
        border-radius: 50%;
        border: 1px solid whitesmoke;
        background-color: #6f6f6f;
        text-align: center;
        /* font-size: 12px; */
        margin: 0 6px;
        cursor: pointer;
        transition: background-color 0.6s ease;
        position: relative;
        z-index: 1;
      }

      .active,
      .dot:hover {
        background-color: #fced65;
        /* filter: none; */
      }

      /* Fading animation */
      .fade {
        animation-name: fade;
        animation-duration: 1.5s;
      }

      .slide-in {
        animation-name: slide-in;
        animation-duration: 2s;
        animation-direction: alternate;
        /* กำหนดทิศทางการเล่น animation เป็น alternate */
      }

      @keyframes fade {
        from {
          opacity: 0.4;
        }

        to {
          opacity: 1;
        }
      }

      @keyframes slide-in {
        from {
          transform: translateX(-100%);
        }

        to {
          transform: translateX(0);
        }
      }

      /* On smaller screens, decrease text size */
      @media only screen and (max-width: 480px) {
        .prev,
        .next {
          cursor: pointer;
          position: absolute;
          /* height: 100%; */
          top: 50%;
          /* height: 100%; */
          width: 5%;
          padding: 30px 5%;
          margin-top: -22px;
          color: white;
          font-weight: bold;
          font-size: 40px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        .next {
          /* top: 50%; */
          right: 0;
          border-radius: 3px 0 0 3px;
          /* filter: none; */
        }

        .text {
          position: absolute;
          /* width: 80%; */
          /* ปรับขนาดของ text */
          top: 12%;
          left: 8%;
          width: 80%;
          height: auto;
          padding: 5px;
          /* ย้าย text มาอยู่ตรงกลาง */
          /* bottom: 10%; */
          /* ย้าย text มาอยู่ตรงกลาง */
          font-size: 22px;
          align-items: center;
          text-align: center;
          /* ปรับให้ text มาอยู่ตรงกลาง */
          /* filter: none; */
        }

        .grid-row {
          margin-top: 12%;
          display: grid;
          grid-template-columns: repeat(1, 1fr);
          grid-gap: 50px;
          grid-row-gap: 5%;
          align-items: center;
          justify-content: center;
          place-items: center;
        }

        .answer {
          padding: 12px;
          font-size: 18px;
          width: 80%;
          color: rgba(93, 92, 92, 0.801);
          /* ปรับขนาดเพื่อให้ answer มีขนาดที่เหมาะสมกับหน้าจอ */
          border: 2px solid rgba(93, 92, 92, 0.801);
          border-radius: 8px;
          background-color: rgba(255, 255, 255, 0.782);
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .dot {
          display: inline-block;
          width: 22px;
          height: 22px;
          line-height: 25px;
          border-radius: 50%;
          border: 1px solid whitesmoke;
          background-color: #6f6f6f;
          text-align: center;
          /* font-size: 12px; */
          margin: 0 1px;
          cursor: pointer;
          transition: background-color 0.6s ease;
          position: relative;
          z-index: 1;
        }
      }

      @media (min-width: 481px) and (max-width: 767px) {
        .prev,
        .next {
          cursor: pointer;
          position: absolute;
          /* height: 100%; */
          top: 50%;
          /* height: 100%; */
          width: 5%;
          padding: 30px 5%;
          margin-top: -22px;
          color: white;
          font-weight: bold;
          font-size: 40px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        .next {
          /* top: 50%; */
          right: 0;
          border-radius: 3px 0 0 3px;
          /* filter: none; */
        }

        .text {
          position: absolute;
          /* width: 80%; */
          /* ปรับขนาดของ text */
          top: 12%;
          left: 8%;
          width: 80%;
          height: auto;
          padding: 5px;
          /* ย้าย text มาอยู่ตรงกลาง */
          /* bottom: 10%; */
          /* ย้าย text มาอยู่ตรงกลาง */
          font-size: 26px;
          align-items: center;
          text-align: center;
          /* ปรับให้ text มาอยู่ตรงกลาง */
          /* filter: none; */
        }

        .grid-row {
          margin-top: 12%;
          display: grid;
          grid-template-columns: repeat(1, 1fr);
          grid-gap: 50px;
          grid-row-gap: 5%;
          align-items: center;
          justify-content: center;
          place-items: center;
        }

        .answer {
          padding: 13px;
          font-size: 20px;
          width: 90%;
          color: rgba(93, 92, 92, 0.801);
          /* ปรับขนาดเพื่อให้ answer มีขนาดที่เหมาะสมกับหน้าจอ */
          border: 2px solid rgba(93, 92, 92, 0.801);
          border-radius: 8px;
          background-color: rgba(255, 255, 255, 0.782);
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .dot {
          display: inline-block;
          width: 24px;
          height: 24px;
          line-height: 25px;
          border-radius: 50%;
          border: 1px solid whitesmoke;
          background-color: #6f6f6f;
          text-align: center;
          /* font-size: 12px; */
          margin: 0 2px;
          cursor: pointer;
          transition: background-color 0.6s ease;
          position: relative;
          z-index: 1;
        }
      }

      /* Media Query for Tablets Ipads portrait mode */
      @media (min-width: 768px) and (max-width: 1024px) {
        .prev,
        .next {
          cursor: pointer;
          position: absolute;
          /* height: 100%; */
          top: 50%;
          /* height: 100%; */
          width: 5%;
          padding: 30px 5%;
          margin-top: -22px;
          color: white;
          font-weight: bold;
          font-size: 40px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        .next {
          /* top: 50%; */
          right: 0;
          border-radius: 3px 0 0 3px;
          /* filter: none; */
        }

        .text {
          position: absolute;
          /* width: 80%; */
          /* ปรับขนาดของ text */
          top: 18%;
          left: 8%;
          width: 80%;
          height: auto;
          padding: 5px;
          /* ย้าย text มาอยู่ตรงกลาง */
          /* bottom: 10%; */
          /* ย้าย text มาอยู่ตรงกลาง */
          font-size: 30px;
          align-items: center;
          text-align: center;
          /* ปรับให้ text มาอยู่ตรงกลาง */
          /* filter: none; */
        }

        .grid-row {
          margin-top: 12%;
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          grid-gap: 0;
          grid-row-gap: 5%;
          align-items: center;
          justify-content: center;
          place-items: center;
        }

        .answer {
          padding: 23px;
          font-size: 24px;
          width: 80%;
          color: rgba(93, 92, 92, 0.801);
          /* ปรับขนาดเพื่อให้ answer มีขนาดที่เหมาะสมกับหน้าจอ */
          border: 2px solid rgba(93, 92, 92, 0.801);
          border-radius: 8px;
          background-color: rgba(255, 255, 255, 0.782);
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .dot {
          display: inline-block;
          width: 26px;
          height: 26px;
          line-height: 25px;
          border-radius: 50%;
          border: 1px solid whitesmoke;
          background-color: #6f6f6f;
          text-align: center;
          /* font-size: 12px; */
          margin: 0 3px;
          cursor: pointer;
          transition: background-color 0.6s ease;
          position: relative;
          z-index: 1;
        }

        .grid-container {
          display: grid;
          place-items: center;
          height: 87vh;
          /* ตั้งค่าความสูงเท่ากับความสูงของหน้าจอ */
          /* margin-top: 70px;
            margin-bottom: 70px; */
        }
      }

      /* Media Query for Laptops and Desktops */
      @media (min-width: 1025px) and (max-width: 1280px) {
        .prev,
        .next {
          cursor: pointer;
          position: absolute;
          /* height: 100%; */
          top: 50%;
          /* height: 100%; */
          width: 5%;
          padding: 30px 5%;
          margin-top: -22px;
          color: white;
          font-weight: bold;
          font-size: 40px;
          transition: 0.6s ease;
          border-radius: 0 3px 3px 0;
          user-select: none;
        }

        .next {
          /* top: 50%; */
          right: 0;
          border-radius: 3px 0 0 3px;
          /* filter: none; */
        }

        .text {
          position: absolute;
          /* width: 80%; */
          /* ปรับขนาดของ text */
          top: 18%;
          left: 8%;
          width: 80%;
          height: auto;
          padding: 5px;
          /* ย้าย text มาอยู่ตรงกลาง */
          /* bottom: 10%; */
          /* ย้าย text มาอยู่ตรงกลาง */
          font-size: 34px;
          align-items: center;
          text-align: center;
          /* ปรับให้ text มาอยู่ตรงกลาง */
          /* filter: none; */
        }

        .grid-row {
          margin-top: 12%;
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          grid-gap: 50px;
          grid-row-gap: 5%;
          align-items: center;
          justify-content: center;
          place-items: center;
        }

        .dot {
          display: inline-block;
          width: 30px;
          height: 30px;
          line-height: 25px;
          border-radius: 50%;
          border: 1px solid whitesmoke;
          background-color: #6f6f6f;
          text-align: center;
          /* font-size: 12px; */
          margin: 0 5px;
          cursor: pointer;
          transition: background-color 0.6s ease;
          position: relative;
          z-index: 1;
        }

        .answer {
          padding: 25px;
          font-size: 26px;
          font-weight: 100;
          color: rgba(93, 92, 92, 0.801);
          width: 300px;
          border: 3px solid rgba(93, 92, 92, 0.801);
          border-radius: 8px;
          background-color: rgba(255, 255, 255, 0.782);
          cursor: pointer;
          transition: all 0.3s ease;
        }
      }

      /* Media Query for Large screens */
      /* @media (min-width: 1281px) and (max-width: 1440px) {

            .prev,
            .next {
                cursor: pointer;
                position: absolute;
                top: 50%;
                width: 5%;
                padding: 30px 5%;
                margin-top: -22px;
                color: white;
                font-weight: bold;
                font-size: 40px;
                transition: 0.6s ease;
                border-radius: 0 3px 3px 0;
                user-select: none;
            }

            .next {
                
                right: 0;
                border-radius: 3px 0 0 3px;
                
            }

            .text {
                position: absolute;
                
                top: 18%;
                left: 8%;
                width: 80%;
                height: auto;
                padding: 5px;
                
                font-size: 30px;
                align-items: center;
                text-align: center;
                
            }

            .grid-row {
                margin-top: 12%;
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                grid-gap: 50px;
                grid-row-gap: 5%;
                align-items: center;
                justify-content: center;
                place-items: center;
            }

            .dot {
                display: inline-block;
                width: 30px;
                height: 30px;
                line-height: 25px;
                border-radius: 50%;
                border: 1px solid whitesmoke;
                background-color: #6f6f6f;
                text-align: center;
                margin: 0 5px;
                cursor: pointer;
                transition: background-color 0.6s ease;
                position: relative;
                z-index: 1;
            }

            .answer {
                padding: 26px;
                font-size: 25px;
                font-weight: 100;
                color: rgba(93, 92, 92, 0.801);
                width: 300px;
                border: 3px solid rgba(93, 92, 92, 0.801);
                border-radius: 8px;
                background-color: rgba(255, 255, 255, 0.782);
                cursor: pointer;
                transition: all 0.3s ease;
            }
        } */
    </style>
  </head>

  <body>
    <div class="component">
      <div class="slideshow-container">
        <script>
          const requestOptions = {
            method: "GET",
            redirect: "follow",
          };
          fetch(
            "http://localhost/api/Smart-KIOS/api/question.php",
            requestOptions
          )
            .then((response) => response.text())
            .then((result) => {
              // นำข้อมูลที่ได้มาใส่ใน element ที่มี id เป็น 'Question1'
              var jsonObj = JSON.parse(result);
              console.log(jsonObj[0].question);
              // วนลูปเพื่อกำหนดค่าใน document.getElementById
              for (let i = 0; i < jsonObj.length; i++) {
                const questionId = `Question${i + 1}`;

                //console.log(questionId);
                document.getElementById(`${questionId}`).innerHTML =
                  jsonObj[i].question;
              }
            })
            .catch((error) => console.error(error));
          const choice = {
            method: "GET",
            redirect: "follow",
          };
          fetch(
            "http://localhost/api/Smart-KIOS/api/SELECTchoice.php",
            requestOptions
          )
            .then((response) => response.text())
            .then((result) => {
              var jsonObj = JSON.parse(result);
              console.log(jsonObj[0].answerTEXT);
              // วนลูปเพื่อกำหนดค่าใน document.getElementById
              for (let i = 0; i < jsonObj.length; i++) {
                const choiceId = `${i + 1}`;

                //console.log(choiceId);
                document.getElementById(`${choiceId}`).innerHTML =
                  jsonObj[i].answerTEXT;
              }
            })
            .catch((error) => console.error(error));
        </script>

        <div class="mySlides fade">
          <div class="numbertext">1 / 11</div>
          <div class="text" id="Question1"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 1)"
                  id="1"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 2)"
                  id="2"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 3)"
                  id="3"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 4)"
                  id="4"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">2 / 11</div>
          <div class="text" id="Question2"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 5)"
                  id="5"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 6)"
                  id="6"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 7)"
                  id="7"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 8)"
                  id="8"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">3 / 11</div>
          <div class="text" id="Question3"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 9)"
                  id="9"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 10)"
                  id="10"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 11)"
                  id="11"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 12)"
                  id="12"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">4 / 11</div>
          <div class="text" id="Question4"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 13)"
                  id="13"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 14)"
                  id="14"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 15)"
                  id="15"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 16)"
                  id="16"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">5 / 11</div>
          <div class="text" id="Question5"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 17)"
                  id="17"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 18)"
                  id="18"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 19)"
                  id="19"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 20)"
                  id="20"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">6 / 11</div>
          <div class="text" id="Question6"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 21)"
                  id="21"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 22)"
                  id="22"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 23)"
                  id="23"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 24)"
                  id="24"
                ></div>
              </div>
            </div>
          </form>
        </div>
        <div class="mySlides fade">
          <div class="numbertext">7 / 11</div>
          <div class="text" id="Question7"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 25)"
                  id="25"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 26)"
                  id="26"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 27)"
                  id="27"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 28)"
                  id="28"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">8 / 11</div>
          <div class="text" id="Question8"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 29)"
                  id="29"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 30)"
                  id="30"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 31)"
                  id="31"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 32)"
                  id="32"
                ></div>
              </div>
            </div>
          </form>
        </div>

        <div class="mySlides fade">
          <div class="numbertext">9 / 11</div>
          <div class="text" id="Question9"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
                <div
                  class="answer"
                  onclick="selectAnswer(this, 33)"
                  id="33"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 34)"
                  id="34"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 35)"
                  id="35"
                ></div>
                <div
                  class="answer"
                  onclick="selectAnswer(this, 36)"
                  id="36"
                ></div>
              </div>
            </div>
          </form>
        </div>
        <div class="mySlides fade">
          <div class="numbertext">10 / 11</div>
          <div class="text" id="Question10"></div>
          <form action="/answer" method="POST">
            <div class="grid-container">
              <div class="grid-row">
               
              </div>
            </div>
          </form>
        </div>

        <a class="prev" onclick="plusSlides(-1)">❮</a>
        <a class="next" onclick="plusSlides(1)">❯</a>
      </div>

      <br />

      <div style="text-align: center">
        <span class="dot" onclick="currentSlide(1)"></span>
        <span class="dot" onclick="currentSlide(2)"></span>
        <span class="dot" onclick="currentSlide(3)"></span>
        <span class="dot" onclick="currentSlide(4)"></span>
        <span class="dot" onclick="currentSlide(5)"></span>
        <span class="dot" onclick="currentSlide(6)"></span>
        <span class="dot" onclick="currentSlide(7)"></span>
        <span class="dot" onclick="currentSlide(8)"></span>
        <span class="dot" onclick="currentSlide(9)"></span>
        <span class="dot" onclick="currentSlide(10)"></span>
      </div>
    </div>
    <!-- </div> -->

    <script>
      let slideIndex = 1;
      let prevSlideIndex = [];
      showSlides(slideIndex);

      function plusSlides(n) {
        showSlides((slideIndex += n));
      }

      function currentSlide(n) {
        showSlides((slideIndex = n));
      }

      function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");

        //prevSlideIndex.push(n);
        console.log("prevSlideIndex", prevSlideIndex);
        let isIndexChanged = true; // สร้างตัวแปรเพื่อตรวจสอบว่ามีการเปลี่ยน slideIndex หรือไม่

        // ตรวจสอบว่า slideIndex มีการเปลี่ยนแปลงหรือไม่
        for (let i = 0; i < prevSlideIndex.length; i++) {
          if (n === prevSlideIndex[i]) {
            isIndexChanged = false;
            break;
          }
        }

        if (isIndexChanged) {
          const queryParams = new URLSearchParams(window.location.search);
          const userID = queryParams.get("userID");
          INSERTToServer(n, userID);
          prevSlideIndex.push(n);
        }

        if (n > slides.length) {
          slideIndex = 1;
        }
        if (n < 1) {
          slideIndex = slides.length;
        }
        for (i = 0; i < slides.length; i++) {
          slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
          dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex - 1].style.display = "block";
        dots[slideIndex - 1].className += " active";
      }

      function selectAnswer(element, answerNumber) {
        const isSelected = element.classList.contains("selected");

        // ตรวจสอบว่า element ที่ถูกคลิกนั้นมีคลาส 'selected' หรือไม่
        // หาก element ที่ถูกคลิกมีคลาส 'selected' ให้ลบคลาส 'selected' ออกและลบ input[type="hidden"] ที่มีชื่อ "answer" ออก
        if (isSelected) {
          element.classList.remove("selected");
          const existingHiddenInput = document.querySelector(
            'input[name="answer"]'
          );
          console.log("existingHiddenInput : ".existingHiddenInput);
          if (existingHiddenInput) {
            console.log("existingHiddenInput : ".existingHiddenInput);
            existingHiddenInput.parentNode.removeChild(existingHiddenInput);
          }
        } else {
          // หาก element ที่ถูกคลิกไม่มีคลาส 'selected' ให้ทำการเพิ่มคลาส 'selected' และเพิ่ม input[type="hidden"]
          // ลบ class 'selected' จากทุกๆ element ที่มี class 'answer'
          const answerElements = document.querySelectorAll(".answer");
          answerElements.forEach((el) => el.classList.remove("selected"));

          // เพิ่ม class 'selected' ให้กับ element ที่ถูกคลิก
          element.classList.add("selected");

          // เซ็ตค่าให้กับ input[type="hidden"] เพื่อส่งค่าไปยังเซิร์ฟเวอร์
          const hiddenInput = document.createElement("input");
          hiddenInput.type = "hidden";
          hiddenInput.name = "answer";
          hiddenInput.value = answerNumber;
          console.log(answerNumber);
          document.querySelector("form").appendChild(hiddenInput);
          
          
        }
        // ดึง element ด้วย id
        const answerElement = document.getElementById(answerNumber);
        // ดึงค่าที่อยู่ใน element
        let valueInsideElement = answerElement.innerHTML;

        // แสดงค่าที่ได้ใน console
        console.log("Value Inside Element: ", valueInsideElement);
        console.log("Slide Index: ", slideIndex);
        sendAnswerToServer(valueInsideElement,slideIndex);
      }

      function sendAnswerToServer(text,questionId) {
        // ดึงข้อมูลจาก query parameter
        const queryParams = new URLSearchParams(window.location.search);
        const userID = queryParams.get("userID");
        // กำหนดข้อมูลที่ต้องการส่ง
        console.log("text",text)
        console.log("questionId",questionId)
        const update = new URLSearchParams();
        update.append('text', text);
        update.append('questionId', questionId);
        update.append('userID', userID);
        console.log("data",update)
        const requestOptions = {
            method: "POST",
            headers: {
              "Content-Type": "application/x-www-form-urlencoded",
            },
            body: update,
            redirect: "follow",
          };
  
          // กำหนด URL ที่ถูกต้อง
          const url = "http://localhost/api/Smart-KIOS/api/UPDATEchoice.php";
  
          fetch(url, requestOptions)
            .then((response) => response.text())
            .then((update) => console.log(update))
            .catch((error) => console.error(error));
      }
      function INSERTToServer(questionId, userID) {
        // กำหนดข้อมูลที่ต้องการส่ง
        const data = new URLSearchParams();
        data.append("questionId", questionId);
        data.append("userID", userID);
        //console.log("data",data)
        const requestOptions = {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
          },
          body: data,
          redirect: "follow",
        };

        // กำหนด URL ที่ถูกต้อง
        const url = "http://localhost/api/Smart-KIOS/api/INSERTchoice.php";

        fetch(url, requestOptions)
          .then((response) => response.text())
          .then((result) => console.log(result))
          .catch((error) => console.error(error));
      }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  </body>
</html>
